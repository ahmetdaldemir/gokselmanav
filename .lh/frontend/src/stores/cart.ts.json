{
    "sourceFile": "frontend/src/stores/cart.ts",
    "activeCommit": 0,
    "commits": [
        {
            "activePatchIndex": 0,
            "patches": [
                {
                    "date": 1748690942976,
                    "content": "Index: \n===================================================================\n--- \n+++ \n"
                }
            ],
            "date": 1748690942976,
            "name": "Commit-0",
            "content": "import { defineStore } from 'pinia'\r\nimport { ref, watch } from 'vue'\r\n\r\nexport interface CartItem {\r\n  id: number\r\n  name: string\r\n  price: number\r\n  image: string\r\n  quantity: number\r\n}\r\n\r\nexport const useCartStore = defineStore('cart', () => {\r\n  const items = ref<CartItem[]>([])\r\n  const isLoading = ref(false)\r\n\r\n  // LocalStorage'dan sepeti yükle\r\n  const loadCart = () => {\r\n    const saved = localStorage.getItem('cart')\r\n    if (saved) {\r\n      items.value = JSON.parse(saved)\r\n    }\r\n  }\r\n\r\n  // items değişince localStorage'a kaydet\r\n  watch(items, (newVal) => {\r\n    localStorage.setItem('cart', JSON.stringify(newVal))\r\n  }, { deep: true })\r\n\r\n  // Demo: Sepeti localden getir\r\n  const fetchCart = async () => {\r\n    loadCart()\r\n    isLoading.value = false\r\n  }\r\n\r\n  // Demo: Sepete ürün ekle\r\n  const addToCart = (product: Omit<CartItem, 'quantity'>, quantity = 1) => {\r\n    const existing = items.value.find(i => i.id === product.id)\r\n    if (existing) {\r\n      existing.quantity += quantity\r\n    } else {\r\n      items.value.push({ ...product, quantity })\r\n    }\r\n  }\r\n\r\n  // Demo: Sepetten ürün çıkar\r\n  const removeFromCart = (productId: number) => {\r\n    items.value = items.value.filter(i => i.id !== productId)\r\n  }\r\n\r\n  // Demo: Adet değiştir\r\n  const updateQuantity = (productId: number, quantity: number) => {\r\n    const item = items.value.find(i => i.id === productId)\r\n    if (item && quantity > 0) {\r\n      item.quantity = quantity\r\n    }\r\n  }\r\n\r\n  // Demo: Sepeti temizle\r\n  const clearCart = () => {\r\n    items.value = []\r\n  }\r\n\r\n  return {\r\n    items,\r\n    isLoading,\r\n    fetchCart,\r\n    addToCart,\r\n    removeFromCart,\r\n    updateQuantity,\r\n    clearCart,\r\n    loadCart\r\n  }\r\n}) "
        }
    ]
}