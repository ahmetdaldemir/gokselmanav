{
    "sourceFile": "frontend/src/views/admin/CustomersView.vue",
    "activeCommit": 0,
    "commits": [
        {
            "activePatchIndex": 1,
            "patches": [
                {
                    "date": 1748365046854,
                    "content": "Index: \n===================================================================\n--- \n+++ \n"
                },
                {
                    "date": 1748365224890,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -12,8 +12,9 @@\n             <th>Ad</th>\r\n             <th>Soyad</th>\r\n             <th>E-posta</th>\r\n             <th>Telefon</th>\r\n+            <th>Adres</th>\r\n             <th>Durum</th>\r\n             <th>Kayıt Tarihi</th>\r\n             <th>İşlemler</th>\r\n           </tr>\r\n@@ -24,8 +25,9 @@\n             <td>{{ customer.firstName }}</td>\r\n             <td>{{ customer.lastName }}</td>\r\n             <td>{{ customer.email }}</td>\r\n             <td>{{ customer.phone || '-' }}</td>\r\n+            <td>{{ customer.address || '-' }}</td>\r\n             <td>\r\n               <span :class=\"['status', customer.isActive ? 'active' : 'inactive']\">\r\n                 {{ customer.isActive ? 'Aktif' : 'Pasif' }}\r\n               </span>\r\n"
                }
            ],
            "date": 1748365046854,
            "name": "Commit-0",
            "content": "<template>\r\n  <div class=\"admin-customers\">\r\n    <div class=\"page-header\">\r\n      <h1>Müşteri Yönetimi</h1>\r\n    </div>\r\n\r\n    <div class=\"customers-table\">\r\n      <table>\r\n        <thead>\r\n          <tr>\r\n            <th>ID</th>\r\n            <th>Ad</th>\r\n            <th>Soyad</th>\r\n            <th>E-posta</th>\r\n            <th>Telefon</th>\r\n            <th>Durum</th>\r\n            <th>Kayıt Tarihi</th>\r\n            <th>İşlemler</th>\r\n          </tr>\r\n        </thead>\r\n        <tbody>\r\n          <tr v-for=\"customer in customers\" :key=\"customer.id\">\r\n            <td>{{ customer.id }}</td>\r\n            <td>{{ customer.firstName }}</td>\r\n            <td>{{ customer.lastName }}</td>\r\n            <td>{{ customer.email }}</td>\r\n            <td>{{ customer.phone || '-' }}</td>\r\n            <td>\r\n              <span :class=\"['status', customer.isActive ? 'active' : 'inactive']\">\r\n                {{ customer.isActive ? 'Aktif' : 'Pasif' }}\r\n              </span>\r\n            </td>\r\n            <td>{{ formatDate(customer.createdAt) }}</td>\r\n            <td>\r\n              <div class=\"actions\">\r\n                <button class=\"btn-view\" @click=\"viewCustomer(customer)\">\r\n                  <i class=\"fas fa-eye\"></i>\r\n                </button>\r\n                <button class=\"btn-edit\" @click=\"editCustomer(customer)\">\r\n                  <i class=\"fas fa-edit\"></i>\r\n                </button>\r\n                <button class=\"btn-delete\" @click=\"deleteCustomer(customer.id)\">\r\n                  <i class=\"fas fa-trash\"></i>\r\n                </button>\r\n              </div>\r\n            </td>\r\n          </tr>\r\n        </tbody>\r\n      </table>\r\n    </div>\r\n\r\n    <!-- View Customer Modal -->\r\n    <div v-if=\"showViewModal\" class=\"modal\">\r\n      <div class=\"modal-content\">\r\n        <h2>Müşteri Detayları</h2>\r\n        <div v-if=\"selectedCustomer\" class=\"customer-details\">\r\n          <div class=\"detail-group\">\r\n            <label>Ad Soyad</label>\r\n            <p>{{ selectedCustomer.firstName }} {{ selectedCustomer.lastName }}</p>\r\n          </div>\r\n          <div class=\"detail-group\">\r\n            <label>E-posta</label>\r\n            <p>{{ selectedCustomer.email }}</p>\r\n          </div>\r\n          <div class=\"detail-group\">\r\n            <label>Telefon</label>\r\n            <p>{{ selectedCustomer.phone || '-' }}</p>\r\n          </div>\r\n          <div class=\"detail-group\">\r\n            <label>Adres</label>\r\n            <p>{{ selectedCustomer.address || '-' }}</p>\r\n          </div>\r\n          <div class=\"detail-group\">\r\n            <label>Kayıt Tarihi</label>\r\n            <p>{{ formatDate(selectedCustomer.createdAt) }}</p>\r\n          </div>\r\n          <div class=\"detail-group\">\r\n            <label>Son Güncelleme</label>\r\n            <p>{{ formatDate(selectedCustomer.updatedAt) }}</p>\r\n          </div>\r\n        </div>\r\n        <div class=\"modal-actions\">\r\n          <button class=\"btn-close\" @click=\"closeViewModal\">Kapat</button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n    <!-- Edit Customer Modal -->\r\n    <div v-if=\"showEditModal\" class=\"modal\">\r\n      <div class=\"modal-content\">\r\n        <h2>Müşteri Düzenle</h2>\r\n        <form @submit.prevent=\"handleSubmit\" class=\"customer-form\">\r\n          <div class=\"form-group\">\r\n            <label for=\"firstName\">Ad</label>\r\n            <input \r\n              type=\"text\" \r\n              id=\"firstName\" \r\n              v-model=\"form.firstName\" \r\n              required\r\n            >\r\n          </div>\r\n          <div class=\"form-group\">\r\n            <label for=\"lastName\">Soyad</label>\r\n            <input \r\n              type=\"text\" \r\n              id=\"lastName\" \r\n              v-model=\"form.lastName\" \r\n              required\r\n            >\r\n          </div>\r\n          <div class=\"form-group\">\r\n            <label for=\"email\">E-posta</label>\r\n            <input \r\n              type=\"email\" \r\n              id=\"email\" \r\n              v-model=\"form.email\" \r\n              required\r\n            >\r\n          </div>\r\n          <div class=\"form-group\">\r\n            <label for=\"phone\">Telefon</label>\r\n            <input \r\n              type=\"tel\" \r\n              id=\"phone\" \r\n              v-model=\"form.phone\"\r\n            >\r\n          </div>\r\n          <div class=\"form-group\">\r\n            <label for=\"address\">Adres</label>\r\n            <textarea \r\n              id=\"address\" \r\n              v-model=\"form.address\" \r\n              rows=\"3\"\r\n            ></textarea>\r\n          </div>\r\n          <div class=\"form-group\">\r\n            <label class=\"checkbox-label\">\r\n              <input \r\n                type=\"checkbox\" \r\n                v-model=\"form.isActive\"\r\n              >\r\n              Aktif\r\n            </label>\r\n          </div>\r\n          <div class=\"form-actions\">\r\n            <button type=\"button\" class=\"btn-cancel\" @click=\"closeEditModal\">\r\n              İptal\r\n            </button>\r\n            <button type=\"submit\" class=\"btn-submit\">\r\n              Güncelle\r\n            </button>\r\n          </div>\r\n        </form>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script setup lang=\"ts\">\r\nimport { ref, reactive, onMounted } from 'vue'\r\nimport axios from 'axios'\r\n\r\ninterface Customer {\r\n  id: number\r\n  firstName: string\r\n  lastName: string\r\n  email: string\r\n  phone?: string\r\n  address?: string\r\n  isActive: boolean\r\n  createdAt: Date\r\n  updatedAt: Date\r\n}\r\n\r\nconst customers = ref<Customer[]>([])\r\n\r\nconst fetchCustomers = async () => {\r\n  const response = await axios.get('/api/customers')\r\n  customers.value = response.data\r\n}\r\n\r\nonMounted(fetchCustomers)\r\n\r\nconst showViewModal = ref(false)\r\nconst showEditModal = ref(false)\r\nconst selectedCustomer = ref<Customer | null>(null)\r\n\r\nconst form = reactive({\r\n  firstName: '',\r\n  lastName: '',\r\n  email: '',\r\n  phone: '',\r\n  address: '',\r\n  isActive: true\r\n})\r\n\r\nconst formatDate = (date: Date) => {\r\n  return new Date(date).toLocaleDateString('tr-TR', {\r\n    year: 'numeric',\r\n    month: 'long',\r\n    day: 'numeric'\r\n  })\r\n}\r\n\r\nconst viewCustomer = (customer: Customer) => {\r\n  selectedCustomer.value = customer\r\n  showViewModal.value = true\r\n}\r\n\r\nconst editCustomer = (customer: Customer) => {\r\n  selectedCustomer.value = customer\r\n  Object.assign(form, customer)\r\n  showEditModal.value = true\r\n}\r\n\r\nconst deleteCustomer = async (id: number) => {\r\n  if (confirm('Bu müşteriyi silmek istediğinizden emin misiniz?')) {\r\n    try {\r\n      await axios.delete(`/api/customers/${id}`)\r\n      await fetchCustomers()\r\n    } catch (error) {\r\n      alert('Müşteri silinirken bir hata oluştu.')\r\n    }\r\n  }\r\n}\r\n\r\nconst handleSubmit = async () => {\r\n  try {\r\n    if (selectedCustomer.value) {\r\n      await axios.patch(`/api/customers/${selectedCustomer.value.id}`, form)\r\n      await fetchCustomers()\r\n    }\r\n    closeEditModal()\r\n  } catch (error) {\r\n    alert('Müşteri kaydedilirken bir hata oluştu.')\r\n  }\r\n}\r\n\r\nconst closeViewModal = () => {\r\n  showViewModal.value = false\r\n  selectedCustomer.value = null\r\n}\r\n\r\nconst closeEditModal = () => {\r\n  showEditModal.value = false\r\n  selectedCustomer.value = null\r\n  Object.assign(form, {\r\n    firstName: '',\r\n    lastName: '',\r\n    email: '',\r\n    phone: '',\r\n    address: '',\r\n    isActive: true\r\n  })\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.admin-customers {\r\n  padding: 1rem;\r\n}\r\n\r\n.page-header {\r\n  margin-bottom: 2rem;\r\n}\r\n\r\n.customers-table {\r\n  background-color: white;\r\n  border-radius: 8px;\r\n  box-shadow: 0 2px 4px rgba(0,0,0,0.1);\r\n  overflow-x: auto;\r\n}\r\n\r\ntable {\r\n  width: 100%;\r\n  border-collapse: collapse;\r\n}\r\n\r\nth, td {\r\n  padding: 1rem;\r\n  text-align: left;\r\n  border-bottom: 1px solid #eee;\r\n}\r\n\r\nth {\r\n  background-color: #f8f9fa;\r\n  font-weight: 600;\r\n  color: #333;\r\n}\r\n\r\n.status {\r\n  padding: 0.25rem 0.5rem;\r\n  border-radius: 4px;\r\n  font-size: 0.875rem;\r\n}\r\n\r\n.status.active {\r\n  background-color: #e8f5e9;\r\n  color: #2e7d32;\r\n}\r\n\r\n.status.inactive {\r\n  background-color: #ffebee;\r\n  color: #c62828;\r\n}\r\n\r\n.actions {\r\n  display: flex;\r\n  gap: 0.5rem;\r\n}\r\n\r\n.btn-view, .btn-edit, .btn-delete {\r\n  padding: 0.5rem;\r\n  border: none;\r\n  border-radius: 4px;\r\n  cursor: pointer;\r\n  transition: background-color 0.2s;\r\n}\r\n\r\n.btn-view {\r\n  background-color: #2196f3;\r\n  color: white;\r\n}\r\n\r\n.btn-edit {\r\n  background-color: #ff9800;\r\n  color: white;\r\n}\r\n\r\n.btn-delete {\r\n  background-color: #f44336;\r\n  color: white;\r\n}\r\n\r\n.btn-view:hover {\r\n  background-color: #1976d2;\r\n}\r\n\r\n.btn-edit:hover {\r\n  background-color: #f57c00;\r\n}\r\n\r\n.btn-delete:hover {\r\n  background-color: #d32f2f;\r\n}\r\n\r\n.modal {\r\n  position: fixed;\r\n  top: 0;\r\n  left: 0;\r\n  right: 0;\r\n  bottom: 0;\r\n  background-color: rgba(0,0,0,0.5);\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  z-index: 1000;\r\n}\r\n\r\n.modal-content {\r\n  background-color: white;\r\n  padding: 2rem;\r\n  border-radius: 8px;\r\n  width: 100%;\r\n  max-width: 500px;\r\n}\r\n\r\n.customer-details {\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 1rem;\r\n}\r\n\r\n.detail-group {\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 0.25rem;\r\n}\r\n\r\n.detail-group label {\r\n  font-weight: 500;\r\n  color: #666;\r\n}\r\n\r\n.detail-group p {\r\n  margin: 0;\r\n  color: #333;\r\n}\r\n\r\n.customer-form {\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 1rem;\r\n}\r\n\r\n.form-group {\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 0.5rem;\r\n}\r\n\r\nlabel {\r\n  font-weight: 500;\r\n  color: #333;\r\n}\r\n\r\ninput, textarea {\r\n  padding: 0.75rem;\r\n  border: 1px solid #ddd;\r\n  border-radius: 4px;\r\n  font-size: 1rem;\r\n}\r\n\r\ninput:focus, textarea:focus {\r\n  outline: none;\r\n  border-color: #42b983;\r\n}\r\n\r\n.checkbox-label {\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 0.5rem;\r\n  cursor: pointer;\r\n}\r\n\r\n.form-actions, .modal-actions {\r\n  display: flex;\r\n  justify-content: flex-end;\r\n  gap: 1rem;\r\n  margin-top: 1rem;\r\n}\r\n\r\n.btn-cancel, .btn-close {\r\n  padding: 0.75rem 1.5rem;\r\n  background-color: #f8f9fa;\r\n  border: 1px solid #ddd;\r\n  border-radius: 4px;\r\n  cursor: pointer;\r\n  transition: background-color 0.2s;\r\n}\r\n\r\n.btn-cancel:hover, .btn-close:hover {\r\n  background-color: #e9ecef;\r\n}\r\n\r\n.btn-submit {\r\n  padding: 0.75rem 1.5rem;\r\n  background-color: #42b983;\r\n  color: white;\r\n  border: none;\r\n  border-radius: 4px;\r\n  cursor: pointer;\r\n  transition: background-color 0.2s;\r\n}\r\n\r\n.btn-submit:hover {\r\n  background-color: #3aa876;\r\n}\r\n</style> "
        }
    ]
}